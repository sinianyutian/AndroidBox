### 一、简介

即时通讯，即Instant Messages,简称IM。是当前网络社会流行的通讯方式，可以实时传递文字、图片、视频等信息，我们每天都在享受这项技术带来的方便。非常有代表的就是我们每天使用的微信，QQ等社交产品。

### 二、关于SDK

IM作为一款基础性服务的SDK，和其他常用的SDK如行为采集、地图等一样，都是对外提供接口，对内实现某种复杂功能，具备某一特性并为APP业务起关键支撑作用。SDK的开发不同于业务APP的开发，它的需求相对稳定，对于操作系统的接口依赖相对较少。但是，SDK出现的每一个小问题都有可能导致APP业务出现故障，所以对于SDK的稳定性相对APP就有最高的要求。那么，如何做一款稳定可靠的SDK呢？本系列会单独列出一篇文章进行总结。

### 三、关于架构

曾经总结过关于APP的架构思考，去年至今在维护开发IM的SDK，经历了一次大的架构调整，重构了大部分的Push层的核心逻辑。一款优秀的SDK首先就要有一个合适的架构设计，合适在于适用于当前以及未来几年的业务。糟糕的架构或者没有架构的代码就是那种开始看起来简单、越写越复杂，再换几个人维护改几个Bug就陷入打补丁模式，而且出不来。好的架构可以让整体的业务逻辑更加清晰明了，修改一处不至于牵连全身。新增需求可以在原有基础上很自然的扩展，换了人维护也能够延续原有的框架，不至于弄的面貌全非，不至于弄成“写不下去”的代码。

### 四、关于协议

最初从同事那里刚接手IM的时候，觉得IM的原理其实很简单，就是发请求和接收响应。后面和同事的交流过程中，他告诉我Im最核心的地方是“协议”。大家可能都看过关于TCP/IP之类的书，书中也就一定提到“协议族”这个概念。的确，协议是通信的基础，是相互只见那沟通的“语言”规范。通信协议是一层层包装起来的，从物理层到应用层，到我们自研IM产品自定义的协议。协议要解决的一个问题，就是制定端到端之间的沟通约定。本系列也将讲述我们自研的协议基础。


### 五、关于保活


### 六、关于心跳

### 七、关键问题

### 八、常见问题











  